<div class="container">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <div class="card">
        <div class="card-header text-center bg-secondary text-light fs-5">
          TEST CERTIFICATE PAGE2
        </div>
        <div class="card-body">
          <form [formGroup]="page2Form" (ngSubmit)="page2FormData(page2Form)">
            <div class="input-group">
              <div class="input-group-text">TYPE</div>
              <input
                type="text"
                class="form-control"
                formControlName="type"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('type')?.valid &&
                    page2Form.get('type')?.touched,
                  'is-valid':
                    page2Form.get('type')?.valid &&
                    page2Form.get('type')?.touched
                }"
              />
              <span class="invalid-feedback">Please enter type</span>
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">REATED CAPACITY</div>
              <input
                type="number"
                class="form-control"
                formControlName="ratedCapacity"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('ratedCapacity')?.valid &&
                    page2Form.get('ratedCapacity')?.touched,
                  'is-valid':
                    page2Form.get('ratedCapacity')?.valid &&
                    page2Form.get('ratedCapacity')?.touched
                }"
              />
              <div class="input-group-text">KVA</div>
              <span class="invalid-feedback">Please enter reated capacity</span>
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">REATED VOLTAGE HV</div>
              <input
                type="number"
                class="form-control"
                formControlName="ratedVoltageHV"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('ratedVoltageHV')?.valid &&
                    page2Form.get('ratedVoltageHV')?.touched,
                  'is-valid':
                    page2Form.get('ratedVoltageHV')?.valid &&
                    page2Form.get('ratedVoltageHV')?.touched
                }"
              />
              <div class="input-group-text">VOLTS</div>
              <span class="invalid-feedback"
                >Please enter rated voltage HV</span
              >
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">REATED VOLTAGE LV</div>
              <input
                type="number"
                class="form-control"
                formControlName="ratedVoltageLV"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('ratedVoltageLV')?.valid &&
                    page2Form.get('ratedVoltageLV')?.touched,
                  'is-valid':
                    page2Form.get('ratedVoltageLV')?.valid &&
                    page2Form.get('ratedVoltageLV')?.touched
                }"
              />
              <div class="input-group-text">VOLTS</div>
              <span class="invalid-feedback"
                >Please enter rated voltage LV</span
              >
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">REATED CURRENT HV</div>
              <input
                type="number"
                class="form-control"
                formControlName="ratedCurrentHV"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('ratedCurrentHV')?.valid &&
                    page2Form.get('ratedCurrentHV')?.touched,
                  'is-valid':
                    page2Form.get('ratedCurrentHV')?.valid &&
                    page2Form.get('ratedCurrentHV')?.touched
                }"
              />
              <div class="input-group-text">AMPS</div>
              <span class="invalid-feedback"
                >Please enter rated current HV</span
              >
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">REATED CURRENT LV</div>
              <input
                type="number"
                class="form-control"
                formControlName="ratedCurrentLV"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('ratedCurrentLV')?.valid &&
                    page2Form.get('ratedCurrentLV')?.touched,
                  'is-valid':
                    page2Form.get('ratedCurrentLV')?.valid &&
                    page2Form.get('ratedCurrentLV')?.touched
                }"
              />
              <div class="input-group-text">AMPS</div>
              <span class="invalid-feedback"
                >Please enter rated current LV</span
              >
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">REATED FREQUENCY</div>
              <input
                type="number"
                class="form-control"
                formControlName="ratedFrequency"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('ratedFrequency')?.valid &&
                    page2Form.get('ratedFrequency')?.touched,
                  'is-valid':
                    page2Form.get('ratedFrequency')?.valid &&
                    page2Form.get('ratedFrequency')?.touched
                }"
              />
              <div class="input-group-text">Hz</div>
              <span class="invalid-feedback">Please enter rated frequency</span>
            </div>
            <div class="input-group mt-3">
              <div class="input-group-text">VECTOER GROUP</div>
              <input
                type="text"
                class="form-control"
                formControlName="vectorGroup"
                [ngClass]="{
                  'is-invalid':
                    !page2Form.get('vectorGroup')?.valid &&
                    page2Form.get('vectorGroup')?.touched,
                  'is-valid':
                    page2Form.get('vectorGroup')?.valid &&
                    page2Form.get('vectorGroup')?.touched
                }"
              />
              <span class="invalid-feedback">Please enter vector group</span>
            </div>
            <div class="mt-3 d-flex justify-content-between">
              <h4 class="fw-bold">VOLTAGE VARIATION</h4>
              <div>
                <h4 class="text-center fw-bold">TAPS PROVIDED ON HV</h4>
                <div class="d-flex">
                  <div class="input-group">
                    <div class="align-self-center fw-bold pe-1">From</div>
                    <input
                      type="number"
                      class="form-control"
                      [ngStyle]="{ width: '20px' }"
                      placeholder="+10"
                      formControlName="positiveTaps"
                      [ngClass]="{
                        'is-invalid':
                          !page2Form.get('positiveTaps')?.valid &&
                          page2Form.get('positiveTaps')?.touched,
                        'is-valid':
                          page2Form.get('positiveTaps')?.valid &&
                          page2Form.get('positiveTaps')?.touched
                      }"
                    />
                    <div class="input-group-text">%</div>
                  </div>
                  <div class="input-group">
                    <div class="align-self-center fw-bold p-1">to</div>
                    <input
                      type="number"
                      class="form-control"
                      [ngStyle]="{ width: '20px' }"
                      placeholder="-10"
                      formControlName="negativeTaps"
                      [ngClass]="{
                        'is-invalid':
                          !page2Form.get('negativeTaps')?.valid &&
                          page2Form.get('negativeTaps')?.touched,
                        'is-valid':
                          page2Form.get('negativeTaps')?.valid &&
                          page2Form.get('negativeTaps')?.touched
                      }"
                    />
                    <div class="input-group-text">%</div>
                  </div>
                  <div class="input-group">
                    <div class="align-self-center fw-bold p-1">@</div>
                    <input
                      type="number"
                      class="form-control"
                      placeholder="STEPS"
                      formControlName="steps"
                      [ngClass]="{
                        'is-invalid':
                          !page2Form.get('steps')?.valid &&
                          page2Form.get('steps')?.touched,
                        'is-valid':
                          page2Form.get('steps')?.valid &&
                          page2Form.get('steps')?.touched
                      }"
                    />
                    <div class="input-group-text">%</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="text-center">
              <button
                class="btn btn-primary mt-4"
                data-bs-toggle="modal"
                data-bs-target="#page2Modal"
                [disabled]="!page2Form.valid"
              >
                Confirm and Next
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- modal -->
<div class="modal fade" id="page2Modal">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-primary text-center">
        <div class="modal-title fs-5 text-light" id="exampleModalLabel">
          TEST CERTIFICATE
        </div>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
        ></button>
      </div>
      <div class="modal-body">
        <table class="table table-striped table-hover mt-5">
          <thead>
            <tr>
              <th>Type</th>
              <th>Rated Capacity</th>
              <th>Rated Voltage HV</th>
              <th>Rated Voltage LV</th>
              <th>Rated Current HV</th>
              <th>Rated Current LV</th>
              <th>Reated Frequency</th>
              <th>Vector Group</th>
              <th>Positive Taps</th>
              <th>Negative Taps</th>
              <th>Steps</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of page2CreatedFormArr">
              <td>{{ item.type }}</td>
              <td>{{ item.ratedCapacity }}</td>
              <td>{{ item.ratedVoltageHV }}</td>
              <td>{{ item.ratedVoltageLV }}</td>
              <td>{{ item.ratedCurrentHV }}</td>
              <td>{{ item.ratedCurrentLV }}</td>
              <td>{{ item.ratedFrequency }}</td>
              <td>{{ item.vectorGroup }}</td>
              <td>{{ item.positiveTaps }}</td>
              <td>{{ item.negativeTaps }}</td>
              <td>{{ item.steps }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-primary"
          data-bs-dismiss="modal"
          [routerLink]="['/page3']"
        >
          Save and Next
        </button>
      </div>
    </div>
  </div>
</div>
